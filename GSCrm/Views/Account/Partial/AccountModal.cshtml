@inject ResManager resManager
@using static GSCrm.CommonConsts
@model AccountsViewModel

@* // Модальное окно создания клиента *@
<div id="accountModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xxl" role="document">
        <div class="modal-content">
            <form method="post" asp-controller="@ACCOUNT" asp-action="Create">
                <div class="modal-header">
                    <h5 class="modal-title">@resManager.GetString("NewAccountLabel")</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="accountModalMainHeader" class="row d-none d-lg-flex mb-lg-2">
                        <div class="block-center col-lg">
                            <p class="label-md text-center">@resManager.GetString("MainInfo")</p>
                        </div>
                        <div class="block-center col-lg">
                            <p class="label-md text-center">@resManager.GetString("ChooseNewAccOrg")</p>
                        </div>
                    </div>
                    <div id="accountModalMainBody" class="row">
                        <div id="mainInfoHeader" class="col-lg d-lg-none mb-3">
                            <p class="label-md text-center">@resManager.GetString("MainInfo")</p>
                        </div>
                        <div class="col-lg">
                            <div class="form-group">
                                <div class="row radio-tabs justify-content-around">
                                    <div class="col-sm m-0 form-check form-check-inline active">
                                        <div class="form-check-wrap">
                                            <input class="form-check-input" type="radio" name="acctTypeTab" value="IndividualOption" checked>
                                            <label class="form-check-label label-non-select" for="IndividualOption">
                                                @resManager.GetString("Individual")
                                            </label>
                                        </div>
                                    </div>

                                    <div class="col-sm m-0 mt-3 mt-sm-0 form-check form-check-inline">
                                        <div class="form-check-wrap">
                                            <input class="form-check-input" type="radio" name="acctTypeTab" value="IEOption">
                                            <label class="form-check-label label-non-select" for="IEOption">
                                                @resManager.GetString("IE")
                                            </label>
                                        </div>
                                    </div>

                                    <div class="col-sm m-0 mt-3 mt-sm-0 form-check form-check-inline">
                                        <div class="form-check-wrap">
                                            <input class="form-check-input" type="radio" name="acctTypeTab" value="LEOption">
                                            <label class="form-check-label label-non-select" for="LEOption">
                                                @resManager.GetString("LE")
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="tabs-content mt-3">
                                    <div id="IndividualOption" class="tabs-content-item">
                                        <div class="form-group">
                                            <input id="accFirstName" class="form-control" type="text" placeholder="@resManager.GetString("FirstNameLabel")" />
                                            <ul id="accFirstNameError" data-connect-el="accFirstName" class="d-none under-field-error label-sm mt-2"></ul>
                                        </div>
                                        <div class="form-group">
                                            <input id="accLastName" class="form-control" type="text" placeholder="@resManager.GetString("LastNameLabel")" />
                                            <ul id="accLastNameError" data-connect-el="accLastName" class="d-none under-field-error label-sm mt-2"></ul>
                                        </div>
                                        <div class="form-group">
                                            <input id="accMiddleName" class="form-control" type="text" placeholder="@resManager.GetString("MidNameLabel")" />
                                            <ul id="accMiddleNameError" data-connect-el="accMiddleName" class="d-none under-field-error label-sm mt-2"></ul>
                                        </div>
                                        <div class="form-group">
                                            <input id="accINNIndividual" class="form-control" type="number" placeholder="@resManager.GetString("INN")" />
                                            <ul id="accINNIndividualError" data-connect-el="accINNIndividual" class="d-none under-field-error label-sm mt-2"></ul>
                                        </div>
                                    </div>
                                    <div id="IEOption" class="tabs-content-item">
                                        <div class="form-group">
                                            <input id="accNameIE" class="form-control" type="text" placeholder="@resManager.GetString("NameLabel")" />
                                            <ul id="accNameIEError" data-connect-el="accNameIE" class="d-none under-field-error label-sm mt-2"></ul>
                                        </div>
                                        <div class="form-group">
                                            <input id="accINNIE" class="form-control" type="number" placeholder="@resManager.GetString("INN")" />
                                            <ul id="accINNIEError" data-connect-el="accINNIE" class="d-none under-field-error label-sm mt-2"></ul>
                                        </div>
                                    </div>
                                    <div id="LEOption" class="tabs-content-item">
                                        <div class="form-group">
                                            <input id="accNameLE" class="form-control" type="text" placeholder="@resManager.GetString("NameLabel")" />
                                            <ul id="accNameLEError" data-connect-el="accNameLE" class="d-none under-field-error label-sm mt-2"></ul>
                                        </div>
                                        <div class="form-group">
                                            <input id="accINNLE" class="form-control" type="number" placeholder="@resManager.GetString("INN")" />
                                            <ul id="accINNLEError" data-connect-el="accINNLE" class="d-none under-field-error label-sm mt-2"></ul>
                                        </div>
                                        <div class="form-group">
                                            <input id="accKPP" class="form-control" type="number" placeholder="@resManager.GetString("KPP")" />
                                            <ul id="accKPPError" data-connect-el="accKPP" class="d-none under-field-error label-sm mt-2"></ul>
                                        </div>
                                        <div class="form-group">
                                            <input id="accOKPO" class="form-control" type="number" placeholder="@resManager.GetString("OKPO")" />
                                            <ul id="accOKPOError" data-connect-el="accOKPO" class="d-none under-field-error label-sm mt-2"></ul>
                                        </div>
                                        <div class="form-group">
                                            <input id="accOGRN" class="form-control" type="number" placeholder="@resManager.GetString("OGRN")" />
                                            <ul id="accOGRNError" data-connect-el="accOGRN" class="d-none under-field-error label-sm mt-2"></ul>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div id="accCountry" class="select-autocomplete" data-link="@Url.Content($"~/Autocomplite/GetCountries/")">
                                            <input id="accCountryVal" class="form-control" placeholder="@resManager.GetString("Country")" />
                                        </div>
                                        <ul id="accCountryError" data-connect-el="accCountryVal" class="d-none under-field-error label-sm mt-2"></ul>
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div id="appointMeHeader" class="col-auto">
                                        <div class="block-center">
                                            <p class="label-md text-center">@resManager.GetString("AppointMe")</p>
                                        </div>
                                    </div>
                                    <div id="appointMeBody" class="col-auto">
                                        <div class="oval-mark-check">
                                            <div class="icon-checkmark"></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="accManager" class="readonly-autocomplete select-autocomplete" data-link="@Url.Content($"~/Autocomplite/GetOrgEmployeesByInitials/")"
                                      data-autocomplite-type="Employees" data-autocomplite-name="AccountManager">
                                    <input id="accManagerVal" readonly class="form-control" placeholder="@resManager.GetString("PrimaryManager")" />
                                </div>
                                <ul id="accManagerError" data-connect-el="accManagerVal" class="d-none under-field-error label-sm mt-2"></ul>
                            </div>
                        </div>
                        <div id="chooseNewAccOrgHeader" class="col-lg d-lg-none mb-3">
                            <p class="label-md text-center">@resManager.GetString("ChooseNewAccOrg")</p>
                        </div>
                        <div class="col-lg">
                            <ul id="userOrgsChoiseList" class="mt-1 list-group">
                                @if (Model.PrimaryOrganization != null)
                                {
                                    <li class="list-group-item active">
                                        @Model.PrimaryOrganization?.Name
                                        <p class="choise-userorg-id d-none">@Model.PrimaryOrganization?.Id</p>
                                    </li>
                                }
                                @foreach (OrganizationViewModel organizationViewModel in Model.UserOrganizations)
                                {
                                    if (organizationViewModel.Id != Model.PrimaryOrganization?.Id)
                                    {
                                        <li class="list-group-item">
                                            @organizationViewModel.Name
                                            <p class="choise-userorg-id d-none">@organizationViewModel.Id</p>
                                        </li>
                                    }
                                }
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <input id="createAccBtn" type="button" class="btn btn-primary" value="@resManager.GetString("CreateLabel")" />
                    <input id="cancelCreationAccBtn" type="button" class="btn btn-secondary" data-dismiss="modal" value="@resManager.GetString("CancelLabel")" />
                </div>
            </form>
        </div>
    </div>
</div>